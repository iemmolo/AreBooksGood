<!DOCTYPE html>
<html lang="{{ site.Language.LanguageCode | default "en" }}">
<head>
  {{- partial "head.html" . -}}
</head>
<body>
  <div class="site-container">
    <header class="site-header">
      {{- partial "header.html" . -}}
    </header>
    <main id="main-content">
      {{- block "main" . }}{{ end -}}
    </main>
    <footer class="site-footer">
      {{- partial "footer.html" . -}}
    </footer>
  </div>
  {{- $js := resources.Get "js/theme-switcher.js" | minify -}}
  <script src="{{ $js.RelPermalink }}"></script>
  {{ if and .IsSection (ne .Type "chess") -}}
    {{- $filter := resources.Get "js/review-filter.js" | minify -}}
    <script src="{{ $filter.RelPermalink }}"></script>
  {{- end }}
  {{ if or (eq .Layout "chess") (eq .Type "chess-play") (eq .Type "chess-learn") (eq .Type "chess-openings") -}}
    {{- $engine := resources.Get "js/chess-engine.js" | minify -}}
    <script src="{{ $engine.RelPermalink }}"></script>
  {{- end }}
  {{ if eq .Layout "chess" -}}
    {{- $chess := resources.Get "js/chess.js" | minify -}}
    <script src="{{ $chess.RelPermalink }}"></script>
  {{- end }}
  {{ if eq .Type "chess-play" -}}
    {{- $chessPlay := resources.Get "js/chess-play.js" | minify -}}
    <script src="{{ $chessPlay.RelPermalink }}"></script>
  {{- end }}
  {{ if eq .Type "chess-learn" -}}
    {{- $learn := resources.Get "js/chess-learn.js" | minify -}}
    <script src="{{ $learn.RelPermalink }}"></script>
  {{- end }}
  {{ if eq .Type "chess-openings" -}}
    {{- $openings := resources.Get "js/chess-openings.js" | minify -}}
    <script src="{{ $openings.RelPermalink }}"></script>
  {{- end }}
</body>
</html>
